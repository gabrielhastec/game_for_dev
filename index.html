<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game Dev</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div>
        <h1>Game Dev Evolucion</h1>
        <p id="Game"><b>Vamos testar suas habilidades em programação?</b></p>
    </div>

    <fieldset id="all">
        <div id="stl_name">
            <label class="questions" for="player"><b>Digite o seu nome:</b> </label>
            <input type="text" name="name" id="player">
        </div><br>

        <div class="questions" id="question1">
            <fieldset class="quest">

                <p><b>1- Qual dos seguintes não é uma linguagem de programação?</b></p>
            
                <input type="radio" name="question1" id="q1_a" data-correct="false">
                <label for="q1_a">Python</label> <br>

                <input type="radio" name="question1" id="q1_b" data-correct="false">
                <label for="q1_b">HTML</label> <br>

                <input type="radio" name="question1" id="q1_c" data-correct="false">
                <label for="q1_c">SQL</label> <br>

                <input type="radio" name="question1" id="q1_d" data-correct="true">
                <label for="q1_d">GIF</label> <br>

            </fieldset> <br>
        </div>

        <div class="questions" id="question2">
            <fieldset class="quest">

                <p><b>2- O que é um "loop" em programação?</b></p>
            
                <input type="radio" name="question2" id="q2_a" data-correct="false">
                <label for="q2_a">Uma expressão matemática</label> <br>

                <input type="radio" name="question2" id="q2_b" data-correct="true">
                <label for="q2_b">Uma estrutura de controle que repete um bloco de código</label> <br>

                <input type="radio" name="question2" id="q2_c" data-correct="false">
                <label for="q2_c">Um tipo de variável</label> <br>

                <input type="radio" name="question2" id="q2_d" data-correct="false">
                <label for="q2_d">Um tipo de comentário</label> <br>

            </fieldset> <br>
        </div>

        <div class="questions" id="question3">
            <fieldset class="quest">

                <p><b>3- Qual é a função principal do HTML em desenvolvimento web?</b></p>
            
                <input type="radio" name="question3" id="q3_a" data-correct="false">
                <label for="q3_a">Manipular dados no servidor</label> <br>

                <input type="radio" name="question3" id="q3_b" data-correct="false">
                <label for="q3_b">Estilizar elementos na página</label> <br>

                <input type="radio" name="question3" id="q3_c" data-correct="true">
                <label for="q3_c"> Estruturar o conteúdo da página</label> <br>

                <input type="radio" name="question3" id="q3_d" data-correct="false">
                <label for="q3_d">Criar consultas de banco de dados</label> <br>

            </fieldset> <br>
        </div>

        <div class="questions" id="question4">
            <fieldset class="quest">

                <p><b>4- O que é um "bug" em programação?</b></p>
            
                <input type="radio" name="question4" id="q4_a" data-correct="false">
                <label for="q4_a">Um inseto que entra no computador</label> <br>

                <input type="radio" name="question4" id="q4_b" data-correct="true">
                <label for="q4_b">Um problema em um programa que causa comportamento inesperado</label> <br>

                <input type="radio" name="question4" id="q4_c" data-correct="false">
                <label for="q4_c">Um tipo de variável</label> <br>

                <input type="radio" name="question4" id="q4_d" data-correct="false">
                <label for="q4_d">Um código bem escrito</label> <br>

            </fieldset> <br>
        </div>
       
        <div class="questions" id="question5">
            <fieldset class="quest">

                <p><b>5- Qual dos seguintes é um banco de dados relacional?</b></p>
            
                <input type="radio" name="question5" id="q5_a" data-correct="false">
                <label for="q5_a">MongoDB</label> <br>

                <input type="radio" name="question5" id="q5_b" data-correct="true">
                <label for="q5_b">SQLite</label> <br>

                <input type="radio" name="question5" id="q5_c" data-correct="false">
                <label for="q5_c">Redis</label> <br>

                <input type="radio" name="question5" id="q5_d" data-correct="false">
                <label for="q5_d">Elasticsearch</label> <br>

            </fieldset> <br>
        </div>

        <input id="finalizar" type="button" value="finalizar" onclick="process()" >

    </fieldset>
    
<script>

    function process() {
        let name = document.getElementById("player").value;
        let level = 0;
        let ranking;
        let incorrectQuestions = [];
        
        const res_questions = [
        ["q1_d", "q2_b", "q3_c", "q4_b", "q5_b"]
        ];

        const pointsCorrectAnswer = 20;
        const pointsIncorrectAnswer = 5;
        const pointsBonusName = 20;

        if (name.trim() !== "") {
            level += pointsBonusName;
        }

        for (let i = 0; i < res_questions.length; i++) {
            let correctAnswers = res_questions[i].filter(id => document.getElementById(id)?.checked);
            let question_score = correctAnswers.length * pointsCorrectAnswer;

            level += question_score;
                
            if (correctAnswers.length !== res_questions[i].length) {
                incorrectQuestions.push(`Pergunta ${i + 1}`);
                level -= pointsIncorrectAnswer;
            }
        }

        level = Math.max(level, 0)
        level = Math.min(level, 120);
        
        if (level <= 10) {
            ranking = "Ferro"
        } else if (level <= 20) {
            ranking = "Bronze"
        } else if (level <= 40) {
            ranking = "Prata"
        } else if (level <= 60) {
            ranking = "Ouro"
        } else if (level <= 80) {
            ranking = "Diamante"
        } else if (level <= 100) {
            ranking = "Lendário"
        } else {
            ranking = "Imortal"
        }

        alert(`O jogador ${name} está no nível: ${level}`);
        alert(`Você está na liga:  ${ranking}`)
    }

</script>
    
    
</body>
</html>